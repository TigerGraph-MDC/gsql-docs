= Define the Schema

In this step, we define the graph schema used for the pattern matching tutorial.

== Data Set

We will use the http://ldbcouncil.org/developer/snb[LDBC Social Network Benchmark] (LDBC SNB) data set.
This data set models a typical online forum where users post messages and discuss topics.
It comes with a data generator, which allows you to generate data at different scale factors.
Scale factor 1 generates roughly 1GB of raw data, scale factor 10 generates roughly 10GB of raw data, and so on.

.LDBC Schema
image::screen-shot-2019-05-15-at-5.05.00-pm.png[Figure 1. LDBC SNB Schema]

Figure 1 shows the schema (from the http://ldbc.github.io/ldbc_snb_docs/ldbc-snb-specification.pdf[LDBC SNB specification]).
It models the activities and relationships of social forum participants.
For example, a forum Member can publish Posts on a Forum, and other Members of the Forum can make a Comment on the Post or on someone else's Comment.

A Person's home location is a hierarchy (`Continent`>`Country`>`City`), and a person can be affiliated with a `University` or a `Company`.
A `Tag` can be used to classify a `Forum`, a `Message`, or a `Person`'s interests.
Tags can further be classified by `TagClass`.

The relationships between entities are modeled as directed edges, except Person `KNOWS` Person is modeled as an undirected edge.
For example, Person connects to `Tag` by the `hasInterest` edge.
`Forum` connects to `Person` by two different edges, `hasMember` and `hasModerator`.


The LDBC SNB schema uses *inheritance* to model certain relationships.
For example, `Message` is the superclass of `Post` and `Comment`.

We do not use the superclasses in our graph model.
When there is an edge type connecting an entity to a superclass, we instead create an edge type from the entity to each of the subclasses of the superclass.

For example, Message has an `isLocatedIn` relationship to Country.
Since `Message` has two subclasses, `Post` and `Comment`, both connected with Country by the _isLocatedIn_ relationship, we create an edge type `IS_LOCATED_IN`, connecting both vertex type pairs.


== Next steps

* xref:pattern-matching/load-data.adoc[]


